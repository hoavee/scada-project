"use client";

import React from "react";

/**
 * @param {number} x - Tọa độ X tuyệt đối trong hệ quy chiếu 770
 * @param {number} y - Tọa độ Y tuyệt đối trong hệ quy chiếu 530
 * @param {number} size - Độ rộng của quạt (đơn vị SVG)
 */
const RotatingFan = ({ x, y, isRunning = true, size = 80, speed = "2s" }) => {
  // Chuyển đổi tọa độ tuyệt đối sang phần trăm dựa trên viewBox 770x530
  const leftPos = (x / 770) * 100;
  const topPos = (y / 530) * 100;
  const relativeSize = (size / 770) * 100;

  return (
    <div
      className="absolute pointer-events-none"
      style={{
        left: `${leftPos}%`,
        top: `${topPos}%`,
        width: `${relativeSize}%`,
        transform: "translate(-50%, -50%)",
        zIndex: 10,
      }}
    >
      <svg
        viewBox="0 0 1000 1000"
        className={isRunning ? "animate-spin" : ""}
        style={{ animationDuration: speed, width: "100%", height: "auto" }}
      >
        <g
          id="g114-7"
          style={{ stroke: "#000", strokeWidth: "28.4133", strokeOpacity: 1 }}
        >
          {/* Giữ nguyên các path quạt của bạn */}
          <path
            d="M569 915V569H429v346z"
            style={{ fill: "#b2b2b2", stroke: "#000" }}
          />
          <path
            d="m569 915-6-10-6-10-6-11-5-10-5-10-4-11-4-11-4-11-3-11-2-11-3-11-1-11-2-11-1-12v-11l-1-11 1-12v-11l1-11 2-11 1-12 3-11 2-11 3-11 4-11 4-10 4-11 5-11 5-10 6-10 6-10 6-10H429l-6 10-6 10-6 10-4 10-5 11-4 11-4 10-3 11-3 11-3 11-2 11-2 12-1 11-1 11-1 11v23l1 11 1 12 1 11 2 11 2 11 3 11 3 11 3 11 4 11 4 11 5 10 4 10 6 11 6 10 6 10h131z"
            style={{ fill: "#ccc", stroke: "#000" }}
          />
          <path
            d="M569 915V569H429l-6 10-6 10-6 10-4 10-5 11-4 11-4 10-3 11-3 11-3 11-2 11-2 12-1 11-1 11-1 11v23l1 11 1 12 1 11 2 11 2 11 3 11 3 11 3 11 4 11 4 11 5 10 4 10 6 11 6 10 6 10h140"
            style={{ fill: "none", stroke: "#000" }}
          />
          <path
            d="M895 647 593 473l-68 120 300 174Z"
            style={{ fill: "#b2b2b2", stroke: "#000" }}
          />
          <path
            d="M895 647h-36l-11-1-12-1-11-2-12-2-11-2-11-3-11-4-11-3-10-4-11-5-10-5-10-5-10-5-10-6-10-6-9-7-9-7-9-7-9-8-8-8-8-7-8-9-7-9-7-9-7-9-7-10-6-9-6-11-5-10-4 7-5 8-4 8-4 7-4 8-5 7-4 7-4 8-4 7-5 8-4 8-4 7-4 7-5 8-4 7-4 8 5 10 6 11 6 10 6 9 7 9 7 10 8 8 7 9 8 8 8 8 9 8 9 7 9 7 9 6 10 7 10 5 9 6 11 5 10 5 11 4 10 4 11 4 11 3 11 3 11 2 12 2 11 2 11 1 12 1h35l4-8 4-7 5-8 4-7 4-8 5-7 4-8 5-7 4-8 4-7 5-8 4-7 4-8 5-7 4-8z"
            style={{ fill: "#ccc", stroke: "#000" }}
          />
          <path
            d="M895 647 593 473l-68 120 5 10 6 11 6 10 6 9 7 9 7 10 8 8 7 9 8 8 8 8 9 8 9 7 9 7 9 6 10 7 10 5 9 6 11 5 10 5 11 4 10 4 11 4 11 3 11 3 11 2 12 2 11 2 11 1 12 1h35l70-120"
            style={{ fill: "none", stroke: "#000" }}
          />
          <path
            d="M825 231 525 405l68 120 302-174Z"
            style={{ fill: "#b2b2b2", stroke: "#000" }}
          />
          <path
            d="m825 231-6 11-6 10-6 10-6 9-7 10-7 9-8 8-7 9-9 8-8 8-8 8-9 7-9 7-9 6-10 6-9 6-10 6-11 5-10 5-10 4-11 4-11 4-11 3-11 3-11 3-11 2-11 2-12 1h-12l-11 1h-11l-12-1 4 8 4 7 5 8 4 7 4 7 4 8 5 8 4 7 4 8 4 7 5 7 4 8 4 7 4 8 5 8 4 7h46l12-2 12-2 11-2 11-2 11-3 12-3 10-4 11-4 10-5 11-4 10-6 10-5 10-6 9-6 9-7 10-7 9-7 8-8 8-7 9-8 7-9 8-9 7-9 7-9 6-10 6-9 6-10 6-11-5-7-4-8-5-7-4-8-4-7-5-8-4-7-4-8-5-7-4-8-5-7-4-8-4-7-5-8-4-7z"
            style={{ fill: "#ccc", stroke: "#000" }}
          />
          <path
            d="M825 231 525 405l68 120h46l12-2 12-2 11-2 11-2 11-3 12-3 10-4 11-4 10-5 11-4 10-6 10-5 10-6 9-6 9-7 10-7 9-7 8-8 8-7 9-8 7-9 8-9 7-9 7-9 6-10 6-9 6-10 6-11-70-120"
            style={{ fill: "none", stroke: "#000" }}
          />
          <path
            d="M429 83v346h140V83Z"
            style={{ fill: "#b2b2b2", stroke: "#000" }}
          />
          <path
            d="m429 83 6 10 6 10 6 11 5 10 4 10 5 11 4 11 3 11 3 11 3 11 2 11 2 11 2 11v12l1 11v23l-1 11v11l-2 11-2 12-2 11-3 11-3 11-3 11-4 10-5 11-4 11-5 10-6 10-6 10-6 10h140l6-10 6-10 6-10 4-10 5-11 4-11 4-10 3-11 3-11 3-11 2-11 2-12 1-11 1-11 1-11v-23l-1-11-1-12-1-11-2-11-2-11-3-11-3-11-3-11-4-11-4-11-5-10-4-10-6-11-6-10-6-10H438z"
            style={{ fill: "#ccc", stroke: "#000" }}
          />
          <path
            d="M429 83v346h140l6-10 6-10 6-10 4-10 5-11 4-11 4-10 3-11 3-11 3-11 2-11 2-12 1-11 1-11 1-11v-23l-1-11-1-12-1-11-2-11-2-11-3-11-3-11-3-11-4-11-4-11-5-10-4-10-6-11-6-10-6-10H429"
            style={{ fill: "none", stroke: "#000" }}
          />
          <path
            d="m103 351 302 174 68-120-300-174Z"
            style={{ fill: "#b2b2b2", stroke: "#000" }}
          />
          <path
            d="M103 351h36l11 1 12 1 11 2 12 2 11 2 11 3 11 4 11 3 10 4 11 5 10 5 10 5 10 5 10 6 10 6 9 7 9 7 9 7 9 8 8 8 8 7 8 9 7 9 7 9 7 9 7 10 6 9 6 11 5 10 4-7 5-8 4-8 4-7 4-8 5-7 4-7 4-8 4-7 5-8 4-8 4-7 4-7 5-8 4-7 4-8-5-10-6-11-6-10-6-9-7-9-7-10-8-8-7-9-8-8-8-8-9-8-9-7-9-7-9-6-10-7-10-5-9-6-11-5-10-5-11-4-10-4-11-4-11-3-11-3-11-2-12-2-11-2-11-1-12-1h-35l-4 8-4 7-5 8-4 7-4 8-5 7-4 8-5 7-4 8-4 7-5 8-4 7-4 8-5 7-4 8z"
            style={{ fill: "#ccc", stroke: "#000" }}
          />
          <path
            d="m103 351 302 174 68-120-5-10-6-11-6-10-6-9-7-9-7-10-8-8-7-9-8-8-8-8-9-8-9-7-9-7-9-6-10-7-10-5-9-6-11-5-10-5-11-4-10-4-11-4-11-3-11-3-11-2-12-2-11-2-11-1-12-1h-35l-70 120"
            style={{ fill: "none", stroke: "#000" }}
          />
          <path
            d="m173 767 300-174-68-120-302 174Z"
            style={{ fill: "#b2b2b2", stroke: "#000" }}
          />
          <path
            d="m173 767 6-11 6-10 6-10 6-9 7-10 7-9 8-8 7-9 9-8 8-8 8-8 9-7 9-7 9-6 10-6 10-6 9-6 11-5 10-5 10-4 11-4 11-4 11-3 11-3 11-3 11-2 11-2 12-1h12l11-1h11l12 1-4-8-4-7-5-8-4-7-4-7-4-8-5-8-4-7-4-8-4-7-5-7-4-8-4-7-4-8-5-8-4-7h-46l-12 2-12 2-11 2-11 2-11 3-12 3-10 4-11 4-10 5-11 4-10 6-10 5-10 6-9 6-9 7-10 7-9 7-8 8-8 7-9 8-7 9-8 9-7 9-7 9-6 10-6 9-6 10-6 11 5 7 4 8 5 7 4 8 4 7 5 8 4 7 4 8 5 7 4 8 5 7 4 8 4 7 5 8 4 7z"
            style={{ fill: "#ccc", stroke: "#000" }}
          />
          <path
            d="m173 767 300-174-68-120h-46l-12 2-12 2-11 2-11 2-11 3-12 3-10 4-11 4-10 5-11 4-10 6-10 5-10 6-9 6-9 7-10 7-9 7-8 8-8 7-9 8-7 9-8 9-7 9-7 9-6 10-6 9-6 10-6 11 70 120"
            style={{ fill: "none", stroke: "#000" }}
          />
          <circle
            cx="499"
            cy="499"
            r="122"
            style={{ fill: "#666", stroke: "#000" }}
          />
          <circle
            cx="499"
            cy="499"
            r="104"
            style={{ fill: "#e5e5e5", stroke: "#000" }}
          />
          <circle
            cx="499"
            cy="499"
            r="34"
            style={{ fill: "#7f7f7f", stroke: "#000" }}
          />
        </g>
      </svg>
    </div>
  );
};

export default RotatingFan;
